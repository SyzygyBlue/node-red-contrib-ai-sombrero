<script type="text/html" data-template-name="llm-connector">
  <div class="form-row">
    <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
    <input type="text" id="node-input-name" placeholder="Name">
  </div>
  <div class="form-row">
    <label for="node-input-llmConfig"><i class="fa fa-hat-cowboy"></i> LLM Config</label>
    <input type="text" id="node-input-llmConfig" placeholder="Select LLM Configuration">
  </div>
  <div class="form-row">
    <label for="node-input-dbConfig"><i class="fa fa-database"></i> Database Config</label>
    <input type="text" id="node-input-dbConfig" class="red-ui-typedInput-config">
  </div>
</script>

<script type="text/javascript">
  RED.nodes.registerType('llm-connector', {
    category: 'Sombrero-AI',
    color: '#a6bbcf',
    defaults: {
      name: { value: "" },
      llmConfig: { value: "", type: "llm-config", required: true },
      dbConfig: { value: "", type: "dbconfig", required: false }
    },
    inputs: 1,
    outputs: 1,
    icon: "font-awesome/fa-comments",
    label: function() {
      return this.name || "LLM Connector";
    },
    oneditprepare: function() {
      // Initialize LLM Config dropdown
      RED.nodes.config.init({
        id: 'node-input-llmConfig',
        type: 'llm-config',
        required: true
      });

      // Initialize DB Config dropdown
      RED.nodes.config.init({
        id: 'node-input-dbConfig',
        type: 'dbconfig',
        required: false
      });
    },
    oneditsave: function() {},
    oneditresize: function() {},
  });
</script>

<script type="text/html" data-help-name="llm-connector">
  <p>A minimal LLM Connector node.</p>
</script>
